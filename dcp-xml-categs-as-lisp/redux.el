(require 'nxml-mode)
(require 'nxml-parse)
(require 'xmltok)
(setq tt--xpf (nxml-parse-file  "c:/home/sp/HG-Repos/derbycityprintsHG/httpd/xmldata/advert.xml"))
(setq tt--xpf (xml-parse-file  "c:/home/sp/HG-Repos/derbycityprintsHG/httpd/xmldata/advert.xml"))


(xml-node-children <categ>)
tt--xpf

(let (d m c f result
          (days (xml-parse-file "data.xml"))
      (walk (car days))
      (nreverse result))


(defun walk (node)
      (when (listp node)
	(cond ((string= "monthName" (xml-get-attribute node 'class))
	       (setq m (first (xml-node-children node) )))
	      ((string= "dayOfMonth" (xml-get-attribute node 'class))
	       (setq d (first (xml-node-children node) )))
	      ((string= "country" (xml-get-attribute node 'class))
	       (setq c (first (xml-node-children node) )))
	      ((string= "dayTitle" (xml-get-attribute node 'class))
	       (setq f (first (xml-node-children node) ))
	       (setq result (cons (list m d c f) result)))
	      (t
	       (mapc 'walk (xml-node-children node))))))


(let (d m c f result
        (days (xml-parse-file "data.xml"))
        (walk (car days))
        (nreverse result))

(xml-node-children 

)

(mapc #'(lambda (q)
          (xml-node-children q))
      (xml-node-children tt--xpf)
)
       
;;'((category   
'(categ ((Document_Number . "1025") (name . "Advertising and Graphics"))  (c1 ((name . "Periodical Ads"))  (c2 ((Document_Number . "1026") (name . "Automobile"))  (c3 ((Document_Number . "1029") (name . "Auto Manufacturers"))  (c4  "Alpha Romeo")  (c4  "American Motors")  (c4  "Auburn")  (c4  "Audi")  (c4  "Austin-Healy")  (c4  "BMW")  (c4  "Ballot")  (c4  "Berliet")  (c4  "British Motor Corp")  (c4  "Bugatti")  (c4  "Buick")  (c4  "Cadillac")  (c4  "Chenard and Walcker")  (c4  "Chevrolet")  (c4  "Chrysler")  (c4  "Citroen")  (c4  "Cole Motor Cars")  (c4  "Cottin and Desgouttes")  (c4  "Datsun")  (c4  "DeDion Bouton")  (c4  "DeSoto")  (c4  "Delage")  (c4  "Delahaye")  (c4  "Delaunay Belleville")  (c4  "Dodge Brothers")  (c4  "Fiat")  (c4  "Ford")  (c4  "General Motors")  (c4  "George Irat")  (c4  "Graham - Paige")  (c4  "Hillman")  (c4  "Holden")  (c4  "Honda")  (c4  "Hudson")  (c4  "Humber")  (c4  "Hupmobile")  (c4  "International Trucks")  (c4  "Jaguar")  (c4  "Jeep")  (c4  "Jordan")  (c4  "Lancia")  (c4  "Lincoln")  (c4  "MG")  (c4  "Manessius")  (c4  "Marmon")  (c4  "Maxwell Motors")  (c4  "Mercedes-Benz")  (c4  "Mercury")  (c4  "Milburn")  (c4  "Million - Guiet")  (c4  "Morris")  (c4  "Nash")  (c4  "Nissan")  (c4  "Oldsmobile")  (c4  "Opel")  (c4  "Packard")  (c4  "Panhard")  (c4  "Peerless")  (c4  "Peugeot")  (c4  "Pierce - Arrow")  (c4  "Plymouth")  (c4  "Pontiac")  (c4  "Porsche")  (c4  "Renault")  (c4  "Rochet Schneider")  (c4  "Rolland Pilain")  (c4  "Rolls Royce")  (c4  "Rootes Group")  (c4  "Rover")  (c4  "Saab")  (c4  "Salmson")  (c4  "Saturn")  (c4  "Senechal")  (c4  "Simca")  (c4  "Sizaire")  (c4  "Standard-Triumph")  (c4  "Studebaker")  (c4  "Sunbeam")  (c4  "Toyota")  (c4  "Unic")  (c4  "Vauxhall")  (c4  "Voisin")  (c4  "Volkswagen")  (c4  "Volvo")  (c4  "White Motor Company")  (c4  "Willys-Overland")  (c4  "Wuling") )  (c3 ((name . "Automobile Alternatives"))  (c4 ((name . "Moped Motorcycle and Scooter Manufacturers"))  (c5  "Honda")  (c5  "Vespa") ) )  (c3 ((Document_Number . "1028") (name . "Gasoline and Oil"))  (c4  "Antar")  (c4  "Castrol")  (c4  "Eco")  (c4  "Niva")  (c4  "Mobil")  (c4  "Shell")  (c4  "Texaco")  (c4  "Veedol") )  (c3 ((name . "Light Equipment and Tractors"))  (c4 ((name . "Lawnmowers"))  (c5  "John Deer") ) )  (c3 ((Document_Number . "1027") (name . "Parts and Supplys"))  (c4  "Carborateur")  (c4  "Headlights")  (c4  "Tires")  (c4  "Spark Plugs")  (c4  "Shocks and Struts") ) )  (c2 ((Document_Number . "1031") (name . "Airplane and Air Travel"))  (c3 ((Document_Number . "1032")) "Airplane Parts")  (c3  "Airplane Manufacturers")  (c3 ((Document_Number . "1033") (name . "Airlines"))  (c4  "Air France")  (c4  "Hispano Suiza")  (c4  "United") ) )  (c2 ((Document_Number . "1034") (name . "Travel and Destination"))  (c3 ((name . "Rail"))  (c4  "London Underground")  (c4  "Santa Fe")  (c4  "Southern Pacific") )  (c3 ((name . "Cruise Lines"))  (c4  "Canadian Pacific Cruises")  (c4  "Cunard Line")  (c4  "French Line")  (c4  "Italian Line")  (c4  "Matson Line") )  (c3 ((Document_Number . "1035")) "Hotels and Locale") )  (c2 ((Document_Number . "1036") (name . "Liquor and Beverage"))  (c3  "Coffee")  (c3  "Water")  (c3 ((name . "Soda"))  (c4  "Coca-Cola") )  (c3 ((Document_Number . "1037") (name . "Alcohol and Spirits"))  (c4  "Armagnac")  (c4  "Beer")  (c4  "Brandy")  (c4  "Champagne")  (c4  "Cognac")  (c4  "Apertifs Cordials and Liqueurs")  (c4  "Port")  (c4  "Rum")  (c4  "Scotch")  (c4  "Vermouth")  (c4  "Whiskey")  (c4  "Wine") ) )  (c2 ((Document_Number . "1038") (name . "Events Festival and Expositions"))  (c3  "Aeronautics")  (c3  "Automobile")  (c3  "Industry and Commercial")  (c3 ((Document_Number . "1039")) "Publication Announcements")  (c3 ((name . "Performing Arts"))  (c4  "Ballet") )  (c3  "Lottery")  (c3  "Museum And Gallery Openings")  (c3 ((name . "Record Releases"))  (c4  "Jazz") ) )  (c2 ((Document_Number . "1040") (name . "Fashion and Apparel"))  (c3 ((Document_Number . "1041") (name . "Accessories"))  (c4  "Cigarette Lighters and Cases")  (c4  "Luggage")  (c4  "Pens and Writing Instruments")  (c4  "Wallets and Purses") )  (c3  "Mens Apparel - General")  (c3  "Womens Apparel - General")  (c3 ((Document_Number . "1042")) "Boutiques and Shops")  (c3  "Childrens and Juvee")  (c3  "Coats and Jackets")  (c3  "Corset and Undergarments")  (c3  "Cosmetics")  (c3  "Gloves")  (c3  "Hats")  (c3  "Hosiery and Socks")  (c3  "Jewelry")  (c3  "Lingerie")  (c3  "Perfume")  (c3  "Shoes and Footwear")  (c3  "Swimwear")  (c3  "Watches") )  (c2 ((Document_Number . "1043") (name . "Food Related Items"))  (c3 ((name . "Ingredients"))  (c4 ((name . "Bread and Baking Ingredients"))  (c5  "Bread") )  (c4 ((name . "Cereals and Grains"))  (c5  "Breakfast Cereals")  (c5  "Pasta") )  (c4 ((name . "Condiments and Flavorings"))  (c5  "Bottled Sauces") )  (c4 ((name . "Dairy"))  (c5  "BabyFood and Formula")  (c5  "Cheese") )  (c4  "Fruit")  (c4  "Soups and Stock") )  (c3 ((name . "Dessert and Confectionery"))  (c4  "Candy")  (c4  "Chocolate")  (c4  "Cookies and Digestif") )  (c3  "Crystal")  (c3  "Silverware")  (c3 ((name . "Kitchenware"))  (c4  "Bakeware") ) )  (c2 ((Document_Number . "1044") (name . "Furniture and Appliance"))  (c3 ((name . "Furniture"))  (c4  "Chairs")  (c4  "Clocks")  (c4  "Couches and Chaises")  (c4  "Decorative Elements and Accessories")  (c4  "Fireplace and Andirons")  (c4  "Furniture Design and Sales")  (c4  "Glass and Vase")  (c4  "Lamps and Lighting")  (c4  "Pianos")  (c4  "Rugs and Carpets")  (c4  "Tables") )  (c3  "Phonograph")  (c3  "Radio")  (c3  "Refrigerator")  (c3  "Sewing Machine")  (c3  "Stoves and Ovens")  (c3  "Vacuum")  (c3  "Washing Machine") )  (c2 ((name . "Games and Toys"))  (c3  "Rides and Interactive Toys") )  (c2 ((Document_Number . "1045") (name . "Industry"))  (c3 ((name . "Banking and Finance"))  (c4 ((name . "Travelers Checques"))  (c5  "American Express")  (c5  "Thomas Cook") ) )  (c3  "Chemicals and Pesticides")  (c3  "Cigarette and Tobacco")  (c3 ((name . "Construction and Assembly")) )  (c3 ((name . "Education"))  (c4  "Schools")  (c4  "Colleges") )  (c3 ((name . "Medicine and Pharmaceuticals"))  (c4  "Aspirin and Pain Relief")  (c4  "Cough Syrup")  (c4  "Snake Oil") )  (c3 ((name . "Office and Data Management"))  (c4  "Calculator")  (c4  "Paper and Pulp")  (c4  "Photography and Film")  (c4  "Printing and Reproduction")  (c4  "Typewriter") )  (c3 ((name . "Safety and Security"))  (c4  "Alarms")  (c4  "Locks and Keys")  (c4  "Safes") )  (c3  "Transportation and Shipping")  (c3 ((name . "Materials and Consumables"))  (c4  "Dyes Pigments Paints and Inks")  (c4  "Wallpapers")  (c4  "Fabrics")  (c4  "Fine Paper and Stationery")  (c4  "Household Supplies")  (c4 ((name . "Personal Hygiene"))  (c5  "Razors")  (c5  "Shampoo and Conditioner")  (c5  "Toothpaste") )  (c4 ((name . "Soaps"))  (c5  "Perfumed and Scented")  (c5  "Household Soap") ) ) )  (c2 ((Document_Number . "1046") (name . "Sports"))  (c3  "Billiards") )  (c2 ((Document_Number . "1047") (name . "Utilites and Infrastructure"))  (c3  "Telephone") ) )  (c1 ((name . "Posters"))  (c2 ((name . "Events and Festivals"))  (c3 ((name . "Olympics"))  (c4 ((name . "Summer Olympic Games"))  (c5  "Melbourne - 1956 XVI Olympiad")  (c5  "Rome - 1960 XVII Olympiad ")  (c5  "Tokyo - 1964 XVIII Olympiad ")  (c5  "Mexico - 1968 XIX Olympiad")  (c5  "Munich - 1972 XX Olympiad")  (c5  "Montreal - 1976 XXI Olympiad")  (c5  "Moscow - 1980 XXII Olympiad ")  (c5  "Los Angeles - 1984 XXIII Olympiad")  (c5  "Seoul - 1988 XXIV Olympiad")  (c5  "Barcelona - 1992 XXV Olympiad")  (c5  "Atlanta - 1996 XXVI Olympiad")  (c5  "Sydney - 2000 XXVII Olympiad")  (c5  "Athens - 2004 XXVIII Olympiad") )  (c4 ((name . "Olympic Winter Games"))  (c5  "St. Moritz - 1948 V Winter Games")  (c5  "Lake Placid - 1980 XIII Winter Games")  (c5  "Calgary - 1988 XV Winter Games")  (c5  "Albertville - 1992 XVI Winter Games")  (c5  "Lillehammer - 1994 XVII Winter Games")  (c5  "Nagano - 1998 XVIII Winter Games")  (c5  "Salt Lake City - 2002 XIX Winter Games") ) ) )  (c2 ((name . "Travel and Destination"))  (c3 ((name . "Airline Posters"))  (c4  "Air Canada")  (c4  "Air West Airlines")  (c4  "American Airlines")  (c4  "America West Airlines")  (c4  "Braniff International Airways")  (c4  "CPAir - Canadian Pacific Airlines")  (c4  "Delta Airlines")  (c4  "Eastern Airlines")  (c4  "Frontier Airlines")  (c4  "JAL - Japan Airlines")  (c4  "Northwest Airlines")  (c4  "Pan Am - Pan American World Airways")  (c4  "Panagra - Pan American-Grace Airways")  (c4  "Singapore Airlines")  (c4  "Southern Airways")  (c4  "Swissair")  (c4  "TCA - Trans-Canada Air Lines")  (c4  "TWA - Trans World Airlines")  (c4  "United Airlines")  (c4  "Western Airlines") )  (c3 ((name . "Rail Posters"))  (c4  "British Railways")  (c4  "London Underground") )  (c3 ((name . "Cruise Lines and Ocean Liner Posters"))  (c4  "QE2 - Queen Elizabeth 2") )  (c3 ((name . "Hotels and Locale Posters"))  (c4 ((name . "Nation and City"))  (c5 ((name . "France"))  (c6  "Bourgogne")  (c6 ((name . "Paris"))) )  (c5 ((name . "Italy")))  (c5 ((name . "Britain - United Kingdom")) )  (c5 ((name . "Denmark"))) ) ) ) ) )
)
